{"ast":null,"code":"import'./App.css';import Header from\"./components/Header\";import AddForm from\"./components/AddForm\";import Item from\"./components/Item\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[task,setTask]=useState(JSON.parse(localStorage.getItem(\"task\"))||[]);const[title,setTitle]=useState(\"\");const[editId,setEditId]=useState(null);const[theme,setTheme]=useState(\"daymode\");useEffect(()=>{localStorage.setItem(\"task\",JSON.stringify(task));},[task]);function deleteTask(id){const result=task.filter(item=>item.id!==id);setTask(result);}function saveTask(e){e.preventDefault();//ไม่ต้องมีการเคลียข้อมูลในฟอร์ม\nif(!title){alert(\"please enter your task\");}else if(editId){const updateTask=task.map(item=>{//รายการใดมีรหัสตรงกับรหัสแก้ไข\nif(item.id===editId){return{...item,title:title};}return item;});setTask(updateTask);setEditId(null);setTitle(\"\");}else{//เพิ่มรายการใหม่\nconst newTask={id:Math.floor(Math.random()*100),title:title};setTask([...task,newTask]);setTitle(\"\");}}function editTask(id){setEditId(id);const editTask=task.find(item=>item.id===id);setTitle(editTask.title);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App \"+theme,children:[/*#__PURE__*/_jsx(Header,{theme:theme,setTheme:setTheme}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(AddForm,{title:title,setTitle:setTitle,saveTask:saveTask,editId:editId}),/*#__PURE__*/_jsx(\"section\",{children:task.map(data=>/*#__PURE__*/_jsx(Item,{data:data,deleteTask:deleteTask,editTask:editTask},data.id))})]})]});}export default App;","map":{"version":3,"names":["Header","AddForm","Item","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","task","setTask","JSON","parse","localStorage","getItem","title","setTitle","editId","setEditId","theme","setTheme","setItem","stringify","deleteTask","id","result","filter","item","saveTask","e","preventDefault","alert","updateTask","map","newTask","Math","floor","random","editTask","find","className","children","data"],"sources":["/Users/natha/Documents/programming/react101/todolist/src/App.js"],"sourcesContent":["import './App.css';\nimport Header from \"./components/Header\";\nimport AddForm from \"./components/AddForm\"\nimport Item from \"./components/Item\"\nimport { useState,useEffect } from \"react\";\n\nfunction App() {\n  const[task,setTask] = useState(JSON.parse(localStorage.getItem(\"task\")) || [])\n  const[title,setTitle]=useState(\"\");\n  const[editId,setEditId]=useState(null);\n  const[theme,setTheme] = useState(\"daymode\")\n\n  useEffect(()=>{\n    localStorage.setItem(\"task\",JSON.stringify(task))\n  },[task])\n  \n  function deleteTask(id){\n    const result = task.filter(item=>item.id!==id)\n    setTask(result);\n  }\n\n  function saveTask(e){\n    e.preventDefault(); //ไม่ต้องมีการเคลียข้อมูลในฟอร์ม\n    if(!title){\n      alert(\"please enter your task\")\n    }else if(editId){\n      const updateTask = task.map((item)=>{\n        //รายการใดมีรหัสตรงกับรหัสแก้ไข\n        if(item.id===editId){\n          return{...item,title:title}\n        }\n        return item;\n      })\n      setTask(updateTask)\n      setEditId(null)\n      setTitle(\"\")\n    }else{\n      //เพิ่มรายการใหม่\n      const newTask = {\n        id:Math.floor(Math.random()*100),\n        title:title\n      }\n      setTask([...task,newTask])\n      setTitle(\"\")\n    }\n  }\n\n  function editTask(id){\n    setEditId(id)\n    const editTask = task.find((item)=>item.id===id)\n    setTitle(editTask.title)\n  }\n\n  return (\n    <div className={\"App \"+theme}>\n      <Header theme={theme} setTheme={setTheme} />\n      <div className='container'>\n        <AddForm title={title} setTitle={setTitle} saveTask={saveTask} editId={editId}/>\n        <section>\n          {\n            task.map((data)=>(\n              <Item key={data.id} data={data} deleteTask={deleteTask} editTask={editTask}/>\n            ))\n          }\n        </section>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}